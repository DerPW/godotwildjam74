[gd_scene load_steps=12 format=4 uid="uid://c3n51id4qmc6g"]

[ext_resource type="Script" path="res://scripts/level.gd" id="1_4as7s"]
[ext_resource type="PackedScene" uid="uid://dlu8bglbmfh5w" path="res://scenes/key.tscn" id="2_5o07o"]
[ext_resource type="Resource" path="res://data/inv_item_key_iron.tres" id="3_q1u34"]
[ext_resource type="PackedScene" uid="uid://dhiqybqm31mnk" path="res://scenes/door.tscn" id="4_8y8wh"]
[ext_resource type="TileSet" uid="uid://eid1v56ko2s7" path="res://data/walls_tileset.tres" id="5_0atip"]
[ext_resource type="Texture2D" uid="uid://b0y70cvq62u76" path="res://assets/tilesets/entities_dungeons.png" id="6_3ynka"]
[ext_resource type="PackedScene" uid="uid://crokx0nfwsok0" path="res://scenes/candle.tscn" id="7_m8hbr"]
[ext_resource type="Shader" path="res://shader/godrays.gdshader" id="8_qflv2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_g5ncw"]
texture = ExtResource("6_3ynka")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
1:1/0 = 0
2:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
1:3/0 = 0
2:3/0 = 0
3:0/0 = 0
3:1/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_ablov"]
sources/0 = SubResource("TileSetAtlasSource_g5ncw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4cj5f"]
shader = ExtResource("8_qflv2")
shader_parameter/angle = 0.435
shader_parameter/position = 0.2
shader_parameter/spread = 0.443
shader_parameter/cutoff = 0.0640001
shader_parameter/falloff = 0.2
shader_parameter/edge_fade = 0.15
shader_parameter/speed = 5.0
shader_parameter/ray1_density = 8.0
shader_parameter/ray2_density = 30.0
shader_parameter/ray2_intensity = 0.3
shader_parameter/color = Color(0.0117647, 0.027451, 0.0392157, 1)
shader_parameter/hdr = true
shader_parameter/seed = 5.0

[node name="Level2" type="Node2D"]
script = ExtResource("1_4as7s")

[node name="Key" parent="." instance=ExtResource("2_5o07o")]
position = Vector2(112, 256)
item = ExtResource("3_q1u34")

[node name="PlayerSpawnPoint" type="Node2D" parent="."]
position = Vector2(296, 112)

[node name="Door" parent="." instance=ExtResource("4_8y8wh")]
position = Vector2(376, 24)
key = ExtResource("3_q1u34")

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAjABMAAQAIAAMAAAAjABIAAQAIAAEAAAAjAAEAAQAIAAEAAAAjAAAAAQAFAAAAAAAiAAAAAQACAAMAAAAhAAAAAQACAAIAAAAgAAAAAQACAAIAAAAfAAAAAQACAAIAAAAeAAAAAQACAAIAAAAdAAAAAQACAAIAAAAcAAAAAQACAAIAAAAbAAAAAQACAAIAAAAaAAAAAQACAAIAAAAZAAAAAQACAAIAAAAYAAAAAQACAAMAAAAXAAAAAQACAAMAAAAWAAAAAQACAAIAAAAVAAAAAQACAAIAAAAUAAAAAQACAAAAAAATAAAAAQACAAIAAAASAAAAAQACAAIAAAARAAAAAQACAAIAAAAQAAAAAQACAAIAAAAPAAAAAQACAAIAAAAOAAAAAQACAAIAAAANAAAAAQACAAIAAAAMAAAAAQACAAIAAAALAAAAAQACAAIAAAAKAAAAAQACAAIAAAAJAAAAAQACAAIAAAAIAAAAAQACAAIAAAAHAAAAAQACAAIAAAAGAAAAAQACAAIAAAAFAAAAAQACAAIAAAAEAAAAAQACAAIAAAADAAAAAQACAAIAAAACAAAAAQACAAIAAAABABMAAQALAAMAAAABABIAAQALAAIAAAABABEAAQALAAIAAAABABAAAQALAAIAAAABAA8AAQAGAAIAAAABAA4AAQAJAAIAAAABAA0AAQAJAAIAAAABAAwAAQAGAAEAAAABAAsAAQALAAIAAAABAAoAAQALAAIAAAABAAkAAQALAAIAAAABAAgAAQALAAIAAAABAAcAAQALAAIAAAABAAYAAQAGAAIAAAABAAUAAQAJAAIAAAABAAQAAQAGAAEAAAABAAMAAQALAAIAAAABAAIAAQALAAIAAAABAAEAAQALAAIAAAABAAAAAQAEAAMAAAAAABMAAQAIAAMAAAAAABIAAQAIAAEAAAAAABEAAQAIAAEAAAAAABAAAQAIAAEAAAAAAA8AAQAIAAEAAAAAAA4AAQAIAAEAAAAAAA0AAQAIAAEAAAAAAAwAAQAIAAEAAAAAAAsAAQAIAAEAAAAAAAoAAQAIAAEAAAAAAAkAAQAIAAEAAAAAAAgAAQAIAAEAAAAAAAcAAQAIAAEAAAAAAAYAAQAIAAEAAAAAAAUAAQAIAAEAAAAAAAQAAQAIAAEAAAAAAAMAAQAIAAEAAAAAAAIAAQAIAAEAAAAAAAEAAQAIAAEAAAAAAAAAAQAEAAEAAAAkAAwAAQALAAIAAAAkAAsAAQALAAIAAAAkAAAAAQALAAAAAAAkAAEAAQALAAIAAAAkAAIAAQALAAIAAAAkAAMAAQALAAIAAAAkAAQAAQALAAIAAAAkAAUAAQALAAIAAAAkAAYAAQALAAIAAAAkAAcAAQALAAIAAAAkAAgAAQALAAIAAAAkAAkAAQALAAIAAAAkAAoAAQALAAIAAAAkAA8AAQALAAIAAAAkABAAAQALAAIAAAAkABEAAQALAAIAAAAkABIAAQALAAIAAAAkABMAAQALAAMAAAAjAA8AAQAIAAEAAAAjABAAAQAIAAEAAAAjABEAAQAIAAEAAAAjAAsAAQAIAAEAAAAjAAwAAQAIAAEAAAAjAAUAAQAIAAEAAAAjAAcAAQAIAAEAAAAjAAYAAQAIAAEAAAAjAA4AAQAIAAEAAAAjAA0AAQAIAAEAAAAjAAoAAQAIAAEAAAAjAAkAAQAIAAEAAAAjAAgAAQAIAAEAAAAjAAQAAQAIAAEAAAAjAAMAAQAIAAEAAAAjAAIAAQAIAAEAAAAaAAkAAQAHAAIAAAAaAAgAAQALAAAAAAAZAAkAAQAIAAMAAAAZAAgAAQAFAAAAAAAUAAkAAQALAAMAAAAUAAgAAQAGAAAAAAATAAkAAQAJAAMAAAATAAgAAQAKAAAAAAASAAkAAQAGAAIAAAASAAgAAQAKAAAAAAARAAkAAQAJAAIAAAARAAgAAQAKAAAAAAAQAAkAAQAFAAIAAAAQAAgAAQAKAAAAAAAPAAkAAQAIAAMAAAAPAAgAAQAIAAAAAAAYAAQAAQALAAMAAAAXAAQAAQAJAAMAAAAWAAQAAQAJAAMAAAAVAAQAAQAJAAMAAAAUAAQAAQAJAAMAAAATAAQAAQAJAAMAAAASAAQAAQAJAAMAAAARAAQAAQAJAAMAAAAQAAQAAQAIAAMAAAAYAAMAAQALAAAAAAAXAAMAAQAKAAAAAAAWAAMAAQAKAAAAAAAVAAMAAQAKAAAAAAAUAAMAAQAJAAAAAAATAAMAAQAKAAAAAAASAAMAAQAKAAAAAAARAAMAAQAKAAAAAAAQAAMAAQAFAAAAAAAPAAMAAQABAAMAAAALAAYAAQAGAAIAAAALAAUAAQAJAAAAAAALAAQAAQAAAAEAAAALAAMAAQAAAAAAAAAHAAYAAQAJAAIAAAAHAAQAAQAAAAEAAAAHAAMAAQAAAAAAAAACAAwAAQALAAAAAAACAA0AAQAGAAEAAAADAA0AAQALAAAAAAAkAA4AAQALAAIAAAAkAA0AAQALAAIAAAAdAAUAAQALAAIAAAAdAAQAAQALAAAAAAAUAAIAAQAAAAEAAAAUAAEAAQAAAAEAAAAJAAYAAQAKAAAAAAAIAAYAAQAGAAEAAAAKAAYAAQAFAAEAAAAHAAUAAQAJAAAAAAAMAAUAAQALAAAAAAAMAAYAAQALAAMAAAAIAAcAAQAJAAIAAAAJAAcAAQAJAAIAAAAKAAcAAQAGAAIAAAAJAAgAAQAJAAIAAAALAAcAAQALAAMAAAAKAAgAAQALAAIAAAAKAAkAAQALAAIAAAAMAA0AAQADAAMAAAALAA0AAQAGAAAAAAAJAAkAAQAFAAIAAAAKAAoAAQALAAIAAAAKAAsAAQALAAIAAAAHABIAAQALAAIAAAAHABEAAQAGAAAAAAAGABIAAQAIAAEAAAAGABEAAQAFAAAAAAAQABMAAQALAAIAAAAQABIAAQAGAAAAAAAPABMAAQAIAAEAAAAPABIAAQAFAAAAAAAXAA8AAQAGAAAAAAAWAA8AAQAFAAAAAAAdAA4AAQAAAAEAAAAdAA0AAQAAAAAAAAAhAAsAAQAAAAAAAAAhAAwAAQAAAAEAAAAfAAgAAQAAAAAAAAAhAAYAAQAAAAIAAAAhAAUAAQAAAAAAAAAfAAkAAQAAAAIAAAAYAA8AAQADAAMAAAAVAA8AAQABAAMAAAAWABAAAQAIAAEAAAAXABAAAQALAAIAAAAWABQAAQAIAAEAAAAWABMAAQAIAAEAAAAWABIAAQAIAAEAAAAWABEAAQAIAAEAAAAXABQAAQALAAIAAAAXABMAAQALAAIAAAAXABIAAQALAAIAAAAXABEAAQALAAIAAAAWABYAAQAAAAIAAAAWABUAAQAEAAIAAAAXABUAAQALAAMAAAAPABQAAQAIAAMAAAAQABYAAQAAAAIAAAAQABUAAQAAAAEAAAAQABQAAQAHAAIAAAARABIAAQADAAMAAAAOABIAAQABAAMAAAAFABEAAQABAAMAAAAIABEAAQADAAMAAAAGABQAAQAEAAIAAAAGABMAAQAIAAEAAAAHABQAAQALAAMAAAAHABMAAQALAAIAAAAGABUAAQAAAAIAAAAdAA8AAQAAAAIAAAAhAA0AAQAAAAIAAAAHAAcAAQAJAAIAAAAIAAgAAQAFAAIAAAAIAAkAAQAIAAMAAAAJAAsAAQAIAAEAAAAJAAwAAQAIAAEAAAAJAAoAAQAIAAEAAAAJAA0AAQAIAAEAAAAGAAUAAQAIAAAAAAAGAAYAAQAIAAEAAAASAAoAAQAHAAIAAAARAAoAAQAJAAMAAAASAAsAAQAAAAIAAAAQAAoAAQAIAAMAAAAaAAoAAQAAAAEAAAAaAAsAAQAAAAIAAAAcAAgAAQAAAAEAAAAcAAcAAQAAAAEAAAAcAAYAAQAEAAIAAAAcAAUAAQAIAAEAAAAcAAQAAQAIAAAAAAAcAAkAAQAAAAIAAAAdAAYAAQALAAMAAAAYAAgAAQABAAMAAAAVAAgAAQADAAMAAAADAA4AAQAGAAEAAAAEAA4AAQALAAAAAAACAA4AAQAJAAIAAAACAA8AAQAJAAMAAAADAA8AAQAJAAMAAAAEAA8AAQALAAMAAAAEAAkAAQABAAMAAAAFAAgAAQAIAAAAAAAGAAcAAQAIAAEAAAAGAAgAAQAJAAEAAAAFAAkAAQAFAAMAAAAGAAkAAQALAAMAAAAHAAgAAQAJAAMAAAACAAQAAQALAAAAAAACAAUAAQALAAEAAAADAAUAAQADAAMAAAACAAYAAQALAAMAAAAIAAUAAQALAAAAAAAKAAUAAQAIAAAAAAAJAA4AAQAFAAMAAAAIAA4AAQABAAMAAAAKAAwAAQALAAIAAAAKAA4AAQAJAAMAAAAKAA0AAQAGAAEAAAALAA8AAQAAAAIAAAALAA4AAQAHAAIAAAA=")
tile_set = ExtResource("5_0atip")

[node name="Background" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAOAAUAAAACAAAAAAAMAAsAAAACAAAAAAAUABEAAAACAAAAAAAdAAsAAAACAAEAAAAcAAIAAAACAAEAAAADABEAAAACAAEAAAAGAAsAAAACAAEAAAAEAAIAAAACAAAAAAAWAAYAAAACAAEAAAAPAA8AAAACAAAAAAAQAAoAAAABAAAAAAAQAAsAAAABAAEAAAAfAAkAAAABAAAAAAAfAAoAAAABAAEAAAAGAAkAAAABAAAAAAAGAAoAAAABAAEAAAANAAEAAAADAAEAAAANAAAAAAABAAAAAAALABAAAAADAAEAAAALAA8AAAABAAAAAAARAAkAAAACAAIAAAAHAAcAAAAAAAIAAAAUAAcAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_ablov")

[node name="Candles" type="Node" parent="."]

[node name="Candle" parent="Candles" instance=ExtResource("7_m8hbr")]
position = Vector2(328, 120)

[node name="Candle2" parent="Candles" instance=ExtResource("7_m8hbr")]
position = Vector2(104, 168)
texture_scale = 0.59

[node name="Candle3" parent="Candles" instance=ExtResource("7_m8hbr")]
position = Vector2(264, 184)

[node name="Candle4" parent="Candles" instance=ExtResource("7_m8hbr")]
position = Vector2(504, 168)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Godrays" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_4cj5f")
anchors_preset = -1
anchor_bottom = 0.05
offset_left = 80.0
offset_top = 136.0
offset_right = 144.0
offset_bottom = 208.0
scale = Vector2(1.01429, 1.88508)
color = Color(1, 1, 1, 0)
metadata/_edit_use_anchors_ = true

[connection signal="player_entered" from="Door" to="." method="_on_door_player_entered"]
