[gd_scene load_steps=12 format=4 uid="uid://du0su787317ah"]

[ext_resource type="Script" path="res://scripts/level.gd" id="1_b0jex"]
[ext_resource type="TileSet" uid="uid://eid1v56ko2s7" path="res://data/walls_tileset.tres" id="1_ooydw"]
[ext_resource type="PackedScene" uid="uid://dlu8bglbmfh5w" path="res://scenes/key.tscn" id="2_nikvu"]
[ext_resource type="PackedScene" uid="uid://crokx0nfwsok0" path="res://scenes/candle.tscn" id="2_o3plo"]
[ext_resource type="PackedScene" uid="uid://dhiqybqm31mnk" path="res://scenes/door.tscn" id="2_w4yui"]
[ext_resource type="Resource" uid="uid://bedmc31ak1i17" path="res://data/inv_item_key_iron.tres" id="3_07r3u"]
[ext_resource type="Texture2D" uid="uid://b0y70cvq62u76" path="res://assets/tilesets/entities_dungeons.png" id="4_ljmdi"]
[ext_resource type="Shader" path="res://shader/godrays.gdshader" id="7_fxja2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_g5ncw"]
texture = ExtResource("4_ljmdi")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
1:1/0 = 0
2:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
1:3/0 = 0
2:3/0 = 0
3:0/0 = 0
3:1/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_ablov"]
sources/0 = SubResource("TileSetAtlasSource_g5ncw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_is3hr"]
shader = ExtResource("7_fxja2")
shader_parameter/angle = 0.245
shader_parameter/position = 0.2
shader_parameter/spread = 0.443
shader_parameter/cutoff = 0.1
shader_parameter/falloff = 0.2
shader_parameter/edge_fade = 0.15
shader_parameter/speed = 5.0
shader_parameter/ray1_density = 8.0
shader_parameter/ray2_density = 30.0
shader_parameter/ray2_intensity = 0.3
shader_parameter/color = Color(0.0117647, 0.027451, 0.0392157, 1)
shader_parameter/hdr = true
shader_parameter/seed = 5.0

[node name="Level1" type="Node2D"]
script = ExtResource("1_b0jex")

[node name="Key" parent="." instance=ExtResource("2_nikvu")]
position = Vector2(528, 40)
item = ExtResource("3_07r3u")

[node name="PlayerSpawnPoint" type="Node2D" parent="."]
position = Vector2(56, 280)

[node name="Door" parent="." instance=ExtResource("2_w4yui")]
position = Vector2(562, 216)
key = ExtResource("3_07r3u")

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAjABMAAQAJAAMAAAAjABIAAQAJAAIAAAAjABEAAQAJAAIAAAAjABAAAQAJAAIAAAAjAA8AAQAKAAAAAAAjAAwAAQAJAAMAAAAjAAsAAQAJAAIAAAAjAAoAAQAJAAIAAAAjAAkAAQAJAAIAAAAjAAgAAQAJAAIAAAAjAAcAAQAJAAIAAAAjAAYAAQAJAAIAAAAjAAUAAQAJAAIAAAAjAAQAAQAJAAIAAAAjAAMAAQAJAAIAAAAjAAIAAQAJAAIAAAAjAAEAAQAJAAIAAAAjAAAAAQAKAAAAAAAiABMAAQAJAAMAAAAiABIAAQAJAAIAAAAiABEAAQAJAAIAAAAiABAAAQAJAAIAAAAiAA8AAQAKAAAAAAAiAAwAAQAIAAMAAAAiAAsAAQAIAAEAAAAiAAoAAQAIAAIAAAAiAAkAAQAIAAEAAAAiAAgAAQAIAAEAAAAiAAcAAQAFAAIAAAAiAAYAAQAJAAIAAAAiAAUAAQAJAAIAAAAiAAQAAQAFAAEAAAAiAAMAAQAIAAEAAAAiAAIAAQAIAAEAAAAiAAEAAQAFAAIAAAAiAAAAAQAKAAAAAAAhABMAAQAJAAMAAAAhABIAAQAJAAIAAAAhABEAAQAJAAIAAAAhABAAAQAJAAIAAAAhAA8AAQAKAAAAAAAhAAYAAQAFAAIAAAAhAAUAAQAJAAIAAAAhAAQAAQAKAAAAAAAhAAEAAQAJAAMAAAAhAAAAAQAJAAAAAAAgABMAAQAJAAMAAAAgABIAAQAJAAIAAAAgABEAAQAJAAIAAAAgABAAAQAJAAIAAAAgAA8AAQAKAAAAAAAgAAYAAQAIAAMAAAAgAAUAAQAIAAEAAAAgAAQAAQAIAAAAAAAgAAEAAQAJAAMAAAAgAAAAAQAJAAAAAAAfABMAAQAJAAMAAAAfABIAAQAJAAIAAAAfABEAAQAJAAIAAAAfABAAAQAJAAIAAAAfAA8AAQAKAAAAAAAfAAEAAQAJAAMAAAAfAAAAAQAJAAAAAAAeABMAAQAJAAMAAAAeABIAAQAJAAIAAAAeABEAAQAJAAIAAAAeABAAAQAJAAIAAAAeAA8AAQAKAAAAAAAeAAwAAQADAAIAAAAeAAsAAQAAAAEAAAAeAAoAAQACAAAAAAAeAAEAAQAJAAMAAAAeAAAAAQAJAAAAAAAdABMAAQAJAAMAAAAdABIAAQAJAAIAAAAdABEAAQAJAAIAAAAdABAAAQAJAAIAAAAdAA8AAQAKAAAAAAAdAAwAAQACAAMAAAAdAAoAAQAGAAMAAAAdAAEAAQAJAAMAAAAdAAAAAQAJAAAAAAAcABMAAQAJAAMAAAAcABIAAQAJAAIAAAAcABEAAQAJAAIAAAAcABAAAQAJAAIAAAAcAA8AAQAKAAAAAAAcAAwAAQACAAIAAAAcAAsAAQAAAAEAAAAcAAoAAQAEAAIAAAAcAAYAAQAHAAIAAAAcAAUAAQALAAIAAAAcAAQAAQALAAAAAAAcAAEAAQAJAAMAAAAcAAAAAQAJAAAAAAAbABMAAQAJAAMAAAAbABIAAQAJAAIAAAAbABEAAQAJAAIAAAAbABAAAQAJAAIAAAAbAA8AAQAKAAAAAAAbAAYAAQAJAAMAAAAbAAUAAQAJAAIAAAAbAAQAAQAKAAAAAAAbAAEAAQAJAAMAAAAbAAAAAQAJAAAAAAAaABMAAQAJAAMAAAAaABIAAQAJAAIAAAAaABEAAQAJAAIAAAAaABAAAQAJAAIAAAAaAA8AAQAKAAAAAAAaAAYAAQAIAAMAAAAaAAUAAQAIAAEAAAAaAAQAAQAIAAAAAAAaAAEAAQAJAAMAAAAaAAAAAQAJAAAAAAAZABMAAQAJAAMAAAAZABIAAQAJAAIAAAAZABEAAQAJAAIAAAAZABAAAQAJAAIAAAAZAA8AAQAKAAAAAAAZAAEAAQAJAAMAAAAZAAAAAQAJAAAAAAAYABMAAQAJAAMAAAAYABIAAQAJAAIAAAAYABEAAQAJAAIAAAAYABAAAQAJAAIAAAAYAA8AAQAKAAAAAAAYAAsAAQALAAMAAAAYAAoAAQALAAAAAAAYAAEAAQAJAAMAAAAYAAAAAQAJAAAAAAAXABMAAQAJAAMAAAAXABIAAQAJAAIAAAAXABEAAQAJAAIAAAAXABAAAQAJAAIAAAAXAA8AAQAKAAAAAAAXAAsAAQAJAAMAAAAXAAoAAQAKAAAAAAAXAAEAAQAJAAMAAAAXAAAAAQAJAAAAAAAWABMAAQAJAAMAAAAWABIAAQAJAAIAAAAWABEAAQAJAAIAAAAWABAAAQAJAAIAAAAWAA8AAQAKAAAAAAAWAAsAAQAIAAMAAAAWAAoAAQAIAAAAAAAWAAYAAQAGAAMAAAAWAAUAAQALAAAAAAAWAAEAAQAJAAMAAAAWAAAAAQAJAAAAAAAVABMAAQAJAAMAAAAVABIAAQAJAAIAAAAVABEAAQAJAAIAAAAVABAAAQAJAAIAAAAVAA8AAQAKAAAAAAAVAAYAAQAJAAMAAAAVAAUAAQAKAAAAAAAVAAEAAQAJAAMAAAAVAAAAAQAJAAAAAAAUABMAAQAJAAMAAAAUABIAAQAJAAIAAAAUABEAAQAJAAIAAAAUABAAAQAJAAIAAAAUAA8AAQAKAAAAAAAUAAYAAQAFAAMAAAAUAAUAAQAIAAAAAAAUAAEAAQAJAAMAAAAUAAAAAQAJAAAAAAATABMAAQAJAAMAAAATABIAAQAJAAIAAAATABEAAQAJAAIAAAATABAAAQAJAAIAAAATAA8AAQAKAAAAAAATAAEAAQAJAAMAAAATAAAAAQAJAAAAAAASABMAAQAJAAMAAAASABIAAQAJAAIAAAASABEAAQAJAAIAAAASABAAAQAJAAIAAAASAA8AAQAKAAAAAAASAAwAAQABAAIAAAASAAsAAQAAAAEAAAASAAoAAQAAAAAAAAASAAEAAQAJAAMAAAASAAAAAQAJAAAAAAARABMAAQAJAAMAAAARABIAAQAJAAIAAAARABEAAQAJAAIAAAARABAAAQAJAAIAAAARAA8AAQAKAAAAAAARAAEAAQAJAAMAAAARAAAAAQAJAAAAAAAQABMAAQAJAAMAAAAQABIAAQAJAAIAAAAQABEAAQAJAAIAAAAQABAAAQAJAAIAAAAQAA8AAQAKAAAAAAAQAAwAAQADAAIAAAAQAAsAAQAAAAEAAAAQAAoAAQAAAAAAAAAQAAYAAQADAAIAAAAQAAUAAQAAAAEAAAAQAAQAAQADAAAAAAAQAAEAAQAJAAMAAAAQAAAAAQAJAAAAAAAPABMAAQAJAAMAAAAPABIAAQAJAAIAAAAPABEAAQAJAAIAAAAPABAAAQAJAAIAAAAPAA8AAQAKAAAAAAAPAAYAAQACAAMAAAAPAAQAAQACAAMAAAAPAAEAAQAJAAMAAAAPAAAAAQAJAAAAAAAOABMAAQAJAAMAAAAOABIAAQAJAAIAAAAOABEAAQAJAAIAAAAOABAAAQAJAAIAAAAOAA8AAQAKAAAAAAAOAAYAAQABAAIAAAAOAAUAAQAAAAEAAAAOAAQAAQABAAAAAAAOAAEAAQAJAAMAAAAOAAAAAQAJAAAAAAANABMAAQAJAAMAAAANABIAAQAJAAIAAAANABEAAQAJAAIAAAANABAAAQAJAAIAAAANAA8AAQAKAAAAAAANAAEAAQAJAAMAAAANAAAAAQAJAAAAAAAMABMAAQAJAAMAAAAMABIAAQAJAAIAAAAMABEAAQAJAAIAAAAMABAAAQAJAAIAAAAMAA8AAQAKAAAAAAAMAAwAAQALAAMAAAAMAAsAAQALAAIAAAAMAAoAAQALAAAAAAAMAAEAAQAJAAMAAAAMAAAAAQAJAAAAAAALABMAAQAJAAMAAAALABIAAQAJAAIAAAALABEAAQAJAAIAAAALABAAAQAJAAIAAAALAA8AAQAKAAAAAAALAAwAAQAJAAMAAAALAAsAAQAJAAIAAAALAAoAAQAKAAAAAAALAAEAAQAJAAMAAAALAAAAAQAJAAAAAAAKABMAAQAJAAMAAAAKABIAAQAJAAIAAAAKABEAAQAJAAIAAAAKABAAAQAJAAIAAAAKAA8AAQAKAAAAAAAKAAwAAQAIAAMAAAAKAAsAAQAIAAEAAAAKAAoAAQAIAAAAAAAKAAEAAQAJAAMAAAAKAAAAAQAJAAAAAAAJABMAAQAJAAMAAAAJABIAAQAJAAIAAAAJABEAAQAJAAIAAAAJABAAAQAJAAIAAAAJAA8AAQAKAAAAAAAJAAEAAQAJAAMAAAAJAAAAAQAJAAAAAAAIABMAAQAJAAMAAAAIABIAAQAJAAIAAAAIABEAAQAJAAIAAAAIABAAAQAJAAIAAAAIAA8AAQAKAAAAAAAIAAEAAQAJAAMAAAAIAAAAAQAJAAAAAAAHABMAAQAJAAMAAAAHABIAAQAJAAIAAAAHABEAAQAJAAIAAAAHABAAAQAFAAEAAAAHAA8AAQAIAAAAAAAHAAEAAQAJAAMAAAAHAAAAAQAJAAAAAAAGABMAAQAJAAMAAAAGABIAAQAJAAIAAAAGABEAAQAFAAEAAAAGABAAAQAIAAAAAAAGAAwAAQACAAIAAAAGAAsAAQAAAAEAAAAGAAoAAQADAAAAAAAGAAEAAQAJAAMAAAAGAAAAAQAJAAAAAAAFABMAAQAJAAMAAAAFABIAAQAFAAEAAAAFABEAAQAIAAAAAAAFAAwAAQACAAMAAAAFAAoAAQACAAMAAAAFAAEAAQAJAAMAAAAFAAAAAQAJAAAAAAAEABMAAQAJAAMAAAAEABIAAQAKAAAAAAAEAAwAAQABAAIAAAAEAAsAAQAAAAEAAAAEAAoAAQABAAAAAAAEAAYAAQALAAMAAAAEAAUAAQALAAIAAAAEAAQAAQALAAAAAAAEAAEAAQAJAAMAAAAEAAAAAQAJAAAAAAADABMAAQAJAAMAAAADABIAAQAKAAAAAAADAAYAAQAJAAMAAAADAAUAAQAJAAIAAAADAAQAAQAKAAAAAAADAAEAAQAJAAMAAAADAAAAAQAJAAAAAAACABMAAQAJAAMAAAACABIAAQAKAAAAAAACAAYAAQAJAAMAAAACAAUAAQAJAAIAAAACAAQAAQAKAAAAAAACAAEAAQAJAAMAAAACAAAAAQAJAAAAAAABABMAAQAJAAMAAAABABIAAQAGAAEAAAABABEAAQALAAIAAAABABAAAQALAAIAAAABAA8AAQALAAIAAAABAA4AAQALAAIAAAABAA0AAQALAAIAAAABAAwAAQALAAIAAAABAAsAAQALAAIAAAABAAoAAQALAAIAAAABAAkAAQALAAIAAAABAAgAAQALAAIAAAABAAcAAQALAAIAAAABAAYAAQAGAAIAAAABAAUAAQAJAAIAAAABAAQAAQAGAAEAAAABAAMAAQALAAIAAAABAAIAAQALAAIAAAABAAEAAQAGAAIAAAABAAAAAQAJAAAAAAAAABMAAQAIAAMAAAAAABIAAQAIAAEAAAAAABEAAQAIAAEAAAAAABAAAQAIAAEAAAAAAA8AAQAIAAEAAAAAAA4AAQAIAAEAAAAAAA0AAQAIAAEAAAAAAAwAAQAIAAEAAAAAAAsAAQAIAAEAAAAAAAoAAQAIAAEAAAAAAAkAAQAIAAEAAAAAAAgAAQAIAAEAAAAAAAcAAQAIAAEAAAAAAAYAAQAIAAEAAAAAAAUAAQAIAAEAAAAAAAQAAQAIAAEAAAAAAAMAAQAIAAEAAAAAAAIAAQAIAAEAAAAAAAEAAQAIAAEAAAAAAAAAAQAEAAEAAAAHAAwAAQADAAMAAAAPAAwAAQABAAMAAAATAAwAAQADAAMAAAAbAAwAAQABAAMAAAALAAYAAQAAAAEAAAAHAAYAAQAAAAEAAAATAAYAAQABAAMAAAAXAAYAAQADAAMAAAAHAAUAAQAAAAEAAAAHAAQAAQAAAAAAAAALAAQAAQADAAAAAAALAAUAAQAAAAEAAAAKAAQAAQABAAMAAAAIAAcAAQADAAMAAAAHAAcAAQABAAIAAAALAAcAAQAAAAIAAAAkAAwAAQAJAAMAAAAkAAsAAQAGAAEAAAAkAAAAAQALAAAAAAAkAAEAAQALAAIAAAAkAAIAAQALAAIAAAAkAAMAAQALAAIAAAAkAAQAAQALAAIAAAAkAAUAAQALAAIAAAAkAAYAAQALAAIAAAAkAAcAAQALAAIAAAAkAAgAAQALAAIAAAAkAAkAAQALAAIAAAAkAAoAAQALAAIAAAAkAA8AAQAKAAAAAAAlAA8AAQAFAAEAAAAlAAsAAQAKAAAAAAAlAAwAAQAFAAIAAAAlAA0AAQAIAAEAAAAlAA4AAQAIAAEAAAAmAA8AAQALAAIAAAAkABAAAQAJAAIAAAAlABAAAQAJAAIAAAAmABAAAQALAAIAAAAmAAsAAQALAAAAAAAmAAwAAQALAAIAAAAmAA0AAQALAAIAAAAmAA4AAQALAAIAAAAkABEAAQAGAAIAAAAkABIAAQALAAIAAAAkABMAAQALAAMAAAAlABEAAQAJAAMAAAAmABEAAQALAAMAAAAhAAoAAQACAAMAAAAgAAoAAQACAAMAAAAfAAoAAQACAAMAAAAcAAcAAQAEAAEAAAAdAAcAAQALAAAAAAAdAAgAAQALAAIAAAAhAAcAAQAIAAMAAAAdAAkAAQALAAIAAAAcAAgAAQAIAAEAAAAcAAkAAQAIAAEAAAA=")
tile_set = ExtResource("1_ooydw")

[node name="Background" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAXAAgAAAACAAEAAAAXAA0AAAACAAAAAAAeAAcAAAACAAAAAAAGAAgAAAACAAEAAAAPAAIAAAACAAAAAAAVAAMAAAACAAAAAAAEAAIAAAACAAAAAAAEAA8AAAACAAEAAAAbAAYAAAABAAAAAAAbAAcAAAABAAEAAAAIAAcAAAABAAAAAAAIAAgAAAABAAEAAAAiABIAAAAAAAIAAAAJABEAAAABAAMAAAAMABIAAAABAAMAAAARABAAAAABAAMAAAATABIAAAABAAMAAAAXABIAAAABAAMAAAAYABAAAAACAAMAAAAfABIAAAACAAMAAAARABIAAAACAAMAAAAKABIAAAABAAIAAAAVABEAAAABAAIAAAAeABAAAAABAAIAAAAbABEAAAABAAMAAAALAAsAAAACAAIAAAACABEAAAAAAAAAAAAFAAsAAAAAAAAAAAAPAAUAAAAAAAAAAAAdAAsAAAAAAAAAAAACAAMAAAAAAAAAAAAUAA4AAAAAAAAAAAAdAAwAAAAAAAEAAAAdAA0AAAADAAEAAAADAAEAAAABAAAAAAADAAIAAAADAAAAAAA=")
tile_set = SubResource("TileSet_ablov")

[node name="Candles" type="Node" parent="."]

[node name="Candle" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(136, 136)

[node name="Candle2" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(440, 120)

[node name="Candle4" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(472, 184)

[node name="Candle5" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(328, 232)

[node name="Candle6" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(88, 184)

[node name="Candle7" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(248, 88)

[node name="Candle8" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(40, 56)

[node name="Candle9" parent="Candles" instance=ExtResource("2_o3plo")]
position = Vector2(40, 280)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Godrays" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_is3hr")
offset_left = 496.0
offset_right = 560.0
offset_bottom = 72.0
color = Color(1, 1, 1, 0)
metadata/_edit_use_anchors_ = true

[connection signal="player_entered" from="Door" to="." method="_on_door_player_entered"]
